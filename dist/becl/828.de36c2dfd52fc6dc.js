"use strict";(self.webpackChunkufps_becl_app=self.webpackChunkufps_becl_app||[]).push([[828],{8386:(U,p,s)=>{s.d(p,{K:()=>u});var e=s(2843),a=s(4004),_=s(262),d=s(1261),l=s(4650),g=s(529);let u=(()=>{class c{constructor(o){this.http=o,this.URL=`${d.N.baseUrlUser}`,this.currentUser=localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")):null}userProfile(){return this.http.get(`${this.URL}profile/`).pipe((0,a.U)(o=>(this.currentUser=o,this.currentUser.picture=this.currentUser.picture?this.currentUser.picture:"becl/assets/img/profile.jpg",localStorage.setItem("currentUser",JSON.stringify(this.currentUser)),o)),(0,_.K)(this.handleError))}getStaffById(o){return this.http.get(`${this.URL}users/${o}`)}getUserById(o){return this.http.get(`${this.URL}users/${o}`)}filterStaffByName(o){return this.http.get(`${this.URL}filter-staff/${o}`)}handleError(o){return(0,e._)(()=>o)}}return c.\u0275fac=function(o){return new(o||c)(l.LFG(g.eN))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},8437:(U,p,s)=>{s.d(p,{p:()=>y});var e=s(4650),a=(()=>{return(n=a||(a={})).ADMIN="ADMIN",n.LOCKER="LOCKER",n.QR_ENTRANCE="QR_ENTRANCE",n.QR_EXIT="QR_EXIT",a;var n})();const _=[{title:"Principal",children:[{title:"Dashboard",icon:"fas fa-home",link:"/admin/dashboard",roles:[a.ADMIN],expanded:!1}]},{title:"Modulos",children:[{title:"Lockers",icon:"fas fa-columns",roles:[a.ADMIN],expanded:!0,children:[{title:"Gestionar lockers",link:"/lockers/manage-lockers",roles:[a.ADMIN]},{title:"Auditar lockers",link:"/lockers/auditar-lockers",roles:[a.ADMIN]},{title:"Lockers",link:"/lockers/lockers",roles:[a.LOCKER]}]},{title:"Carnets",icon:"fas fa-columns",roles:[a.QR_ENTRANCE,a.QR_EXIT],expanded:!0,children:[{title:"Entrada",link:"/in-out/qr-input",roles:[a.QR_ENTRANCE]},{title:"Salida",link:"/in-out/qr-output",roles:[a.QR_EXIT]}]},{title:"Usuarios",icon:"fas fa-users",link:"/users/users-list",expanded:!1,roles:[a.ADMIN]}]}];let d=(()=>{class n{constructor(){}get menu(){return _}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var l=s(3060);let g=(()=>{class n{constructor(){this.anio=(new Date).getFullYear()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-footer"]],decls:17,vars:1,consts:[[1,"footer"],[1,"container-fluid"],[1,"pull-left"],[1,"nav"],[1,"nav-item"],["href","https://www.themekita.com",1,"nav-link"],["href","#",1,"nav-link"],[1,"copyright","ml-auto"],["href","#"]],template:function(t,r){1&t&&(e.TgZ(0,"footer",0)(1,"div",1)(2,"nav",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6," Nigth Devs "),e.qZA()(),e.TgZ(7,"li",4)(8,"a",6),e._uU(9," Help "),e.qZA()(),e.TgZ(10,"li",4)(11,"a",6),e._uU(12," Licenses "),e.qZA()()()(),e.TgZ(13,"div",7),e._uU(14),e.TgZ(15,"a",8),e._uU(16,"Nigth Devs"),e.qZA()()()()),2&t&&(e.xp6(14),e.hij(" ",r.anio," \xa9 All Rights Reserved. Desarrollado por: "))},encapsulation:2}),n})();var u=s(9897),c=s(960),m=s(8386);let o=(()=>{class n{constructor(t,r,v){this.socialAuthService=t,this.authService=r,this.userService=v}ngOnInit(){this.currentUser=this.userService.currentUser}logOut(){this.socialAuthService.signOut(),this.authService.logout(),window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.xE),e.Y36(c.e),e.Y36(m.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-navbar"]],decls:27,vars:6,consts:[[1,"navbar","navbar-header","navbar-expand-lg"],[1,"container-fluid"],[1,"navbar-nav","topbar-nav","ml-md-auto","align-items-center"],[1,"nav-item","dropdown","hidden-caret"],["data-toggle","dropdown","href","#","aria-expanded","false",1,"dropdown-toggle","profile-pic"],[1,"avatar-sm"],[1,"avatar-img","rounded-circle",3,"src","alt"],[1,"dropdown-menu","dropdown-user","animated","fadeIn"],[1,"user-box"],[1,"avatar-lg"],[1,"avatar-img","rounded",3,"src","alt"],[1,"u-text"],[1,"text-muted"],[1,"dropdown-divider"],["routerLink","../account/profile",1,"dropdown-item"],["routerLink","../account/settings",1,"dropdown-item"],[1,"dropdown-item",2,"cursor","pointer",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4)(5,"div",5),e._UZ(6,"img",6),e.qZA()(),e.TgZ(7,"ul",7)(8,"li")(9,"div",8)(10,"div",9),e._UZ(11,"img",10),e.qZA(),e.TgZ(12,"div",11)(13,"h4"),e._uU(14),e.qZA(),e.TgZ(15,"p",12),e._uU(16),e.qZA()()()(),e.TgZ(17,"li"),e._UZ(18,"div",13),e.TgZ(19,"a",14),e._uU(20,"Perfil"),e.qZA(),e._UZ(21,"div",13),e.TgZ(22,"a",15),e._uU(23,"Ajustes"),e.qZA(),e._UZ(24,"div",13),e.TgZ(25,"a",16),e.NdJ("click",function(){return r.logOut()}),e._uU(26,"Cerrar Sesi\xf3n"),e.qZA()()()()()()()),2&t&&(e.xp6(6),e.s9C("alt",r.currentUser.username),e.Q6J("src",r.currentUser.picture,e.LSH),e.xp6(5),e.s9C("alt",r.currentUser.username),e.Q6J("src",r.currentUser.picture,e.LSH),e.xp6(3),e.Oqu(r.currentUser.first_name),e.xp6(2),e.Oqu(r.currentUser.email))},dependencies:[l.yS],encapsulation:2}),n})();var f=s(6895);const h=function(n){return[n]};function T(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"a",14),e._UZ(2,"i"),e.TgZ(3,"p"),e._uU(4),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(5,h,t.link)),e.xp6(1),e.Tol(t.icon),e.xp6(2),e.Oqu(t.title)}}function A(n,i){1&n&&(e.ynx(0),e._UZ(1,"span",10),e.BQk())}const Z=function(){return["active"]};function b(n,i){if(1&n&&(e.TgZ(0,"li",29)(1,"a",14)(2,"span",30),e._uU(3),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.Q6J("routerLinkActive",e.DdM(3,Z)),e.xp6(1),e.Q6J("routerLink",e.VKq(4,h,t.link)),e.xp6(2),e.Oqu(t.title)}}function x(n,i){if(1&n&&(e.ynx(0),e.YNc(1,b,4,6,"li",28),e.BQk()),2&n){const t=i.$implicit,r=e.oxw(6);e.xp6(1),e.Q6J("ngIf",r.hasRole(t.roles))}}const C=function(){return["show"]};function S(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",26)(2,"ul",27),e.YNc(3,x,2,1,"ng-container",17),e.qZA()(),e.BQk()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("id",t.title)("routerLinkActive",e.DdM(3,C)),e.xp6(2),e.Q6J("ngForOf",t.children)}}function I(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"a",25),e._UZ(2,"i"),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.YNc(5,A,2,0,"ng-container",24),e.qZA(),e.YNc(6,S,4,4,"ng-container",24),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("href","#"+t.title,e.LSH),e.xp6(1),e.Tol(t.icon),e.xp6(2),e.Oqu(t.title),e.xp6(1),e.Q6J("ngIf",t.children),e.xp6(1),e.Q6J("ngIf",t.children)}}function k(n,i){if(1&n&&(e.TgZ(0,"li",23),e.YNc(1,T,5,7,"ng-container",24),e.YNc(2,I,7,7,"ng-container",24),e.qZA()),2&n){const t=e.oxw().$implicit,r=e.oxw(2);e.Q6J("routerLinkActive",e.DdM(3,Z)),e.xp6(1),e.Q6J("ngIf",!t.expanded),e.xp6(1),e.Q6J("ngIf",t.expanded&&r.hasRole(t.roles))}}function E(n,i){if(1&n&&(e.ynx(0),e.YNc(1,k,3,4,"li",22),e.BQk()),2&n){const t=i.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.hasRole(t.roles))}}function N(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"li",18)(2,"span",19),e._UZ(3,"i",20),e.qZA(),e.TgZ(4,"h4",21),e._uU(5),e.qZA()(),e.YNc(6,E,2,1,"ng-container",17),e.BQk()),2&n){const t=i.$implicit;e.xp6(5),e.Oqu(t.title),e.xp6(1),e.Q6J("ngForOf",t.children)}}const O=function(){return["/account/profile"]},L=function(){return["/account/settings"]};let Q=(()=>{class n{constructor(t,r){this.socialAuthService=t,this.authService=r,this.isCarnetsEnabled=!1}hasRole(t){return!t||this.authService.checkRol(t)}ngOnInit(){this.isCarnetsEnabled=this.authService.checkRol([a.QR_ENTRANCE])||this.authService.checkRol([a.QR_EXIT]),this.currentUser=this.authService.getCurrentUserSubject()}logOut(){this.socialAuthService.signOut(),this.authService.logout(),window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.xE),e.Y36(c.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sidebar"]],inputs:{menuItems:"menuItems"},decls:31,vars:9,consts:[[1,"sidebar"],[1,"sidebar-background"],[1,"sidebar-wrapper","scrollbar-inner"],[1,"sidebar-content"],[1,"user"],[1,"avatar-sm","float-left","mr-2"],[1,"avatar-img","rounded-circle",3,"src","alt"],[1,"info"],["data-toggle","collapse","href","#collapseExample","aria-expanded","true"],[1,"user-level"],[1,"caret"],[1,"clearfix"],["id","collapseExample",1,"collapse","in"],[1,"nav"],[3,"routerLink"],[1,"link-collapse"],[3,"click"],[4,"ngFor","ngForOf"],[1,"nav-section"],[1,"sidebar-mini-icon"],[1,"fa","fa-ellipsis-h"],[1,"text-section"],["class","nav-item",3,"routerLinkActive",4,"ngIf"],[1,"nav-item",3,"routerLinkActive"],[4,"ngIf"],["data-toggle","collapse",3,"href"],[1,"collapse",3,"id","routerLinkActive"],[1,"nav","nav-collapse"],[3,"routerLinkActive",4,"ngIf"],[3,"routerLinkActive"],[1,"sub-item"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.qZA(),e.TgZ(7,"div",7)(8,"a",8)(9,"span"),e._uU(10),e.TgZ(11,"span",9),e._uU(12),e.qZA(),e._UZ(13,"span",10),e.qZA()(),e._UZ(14,"div",11),e.TgZ(15,"div",12)(16,"ul",13)(17,"li")(18,"a",14)(19,"span",15),e._uU(20,"Perfil"),e.qZA()()(),e.TgZ(21,"li")(22,"a",14)(23,"span",15),e._uU(24,"Ajustes"),e.qZA()()(),e.TgZ(25,"li")(26,"a",16),e.NdJ("click",function(){return r.logOut()}),e.TgZ(27,"span",15),e._uU(28,"Cerrar Sesi\xf3n"),e.qZA()()()()()()(),e.TgZ(29,"ul",13),e.YNc(30,N,7,2,"ng-container",17),e.qZA()()()()),2&t&&(e.xp6(6),e.s9C("alt",r.currentUser.username),e.Q6J("src",r.currentUser.picture,e.LSH),e.xp6(4),e.hij(" ",r.currentUser.first_name," "),e.xp6(2),e.Oqu(r.currentUser.roles[0].name),e.xp6(6),e.Q6J("routerLink",e.DdM(7,O)),e.xp6(4),e.Q6J("routerLink",e.DdM(8,L)),e.xp6(8),e.Q6J("ngForOf",r.menuItems))},dependencies:[f.sg,f.O5,l.yS,l.Od],styles:["a[_ngcontent-%COMP%]{cursor:pointer}"]}),n})(),R=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-header"]],decls:11,vars:0,consts:[[1,"logo-header"],["href","index.html",1,"logo"],["src","/becl/assets/img/logoazzara.svg","alt","navbar brand",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","collapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","sidenav-toggler","ml-auto"],[1,"navbar-toggler-icon"],[1,"fa","fa-bars"],[1,"topbar-toggler","more"],[1,"fa","fa-ellipsis-v"],[1,"navbar-minimize"],[1,"btn","btn-minimize","btn-rounded"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"a",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"button",3)(4,"span",4),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"button",6),e._UZ(7,"i",7),e.qZA(),e.TgZ(8,"div",8)(9,"button",9),e._UZ(10,"i",5),e.qZA()()())},encapsulation:2}),n})(),y=(()=>{class n{constructor(t){this.sidebarService=t,this.menuItems=this.sidebarService.menu}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-layout"]],decls:10,vars:1,consts:[[1,"wrapper"],["data-background-color","orange",1,"main-header"],[3,"menuItems"],[1,"main-panel"],[1,"content"],[1,"page-inner"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-header")(3,"app-navbar"),e.qZA(),e._UZ(4,"app-sidebar",2),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5),e._UZ(8,"router-outlet"),e.qZA()(),e._UZ(9,"app-footer"),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("menuItems",r.menuItems))},dependencies:[l.lC,g,o,Q,R],encapsulation:2}),n})()}}]);